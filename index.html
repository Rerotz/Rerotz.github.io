<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>An√°lisis de Clustering de Clientes del Mall</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            line-height: 1.6;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .section {
            padding: 40px;
            border-bottom: 3px solid #f0f0f0;
        }

        .section:last-child {
            border-bottom: none;
        }

        .section-title {
            font-size: 2em;
            color: #667eea;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .section-number {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.5em;
        }

        .dataset-info {
            background: #f8f9ff;
            padding: 25px;
            border-radius: 15px;
            border-left: 5px solid #667eea;
            margin: 20px 0;
        }

        .variables-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .variable-card {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .variable-card:hover {
            transform: translateY(-5px);
        }

        .variable-card h4 {
            font-size: 1.1em;
            margin-bottom: 10px;
        }

        .process-flow {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: space-between;
            margin: 30px 0;
        }

        .process-step {
            flex: 1;
            min-width: 250px;
            background: white;
            border: 3px solid #667eea;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            position: relative;
        }

        .process-step::after {
            content: '‚Üí';
            position: absolute;
            right: -30px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 2em;
            color: #667eea;
        }

        .process-step:last-child::after {
            display: none;
        }

        .process-step h4 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .algorithm-comparison {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .algo-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border-top: 5px solid #667eea;
            transition: all 0.3s ease;
        }

        .algo-card:nth-child(2) {
            border-top-color: #f5576c;
        }

        .algo-card:nth-child(3) {
            border-top-color: #4facfe;
        }

        .algo-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.2);
        }

        .algo-card h3 {
            font-size: 1.8em;
            margin-bottom: 20px;
            color: #333;
        }

        .metric-box {
            background: #f8f9ff;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
        }

        .metric-box strong {
            color: #667eea;
            font-size: 1.1em;
        }

        .code-snippet {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            overflow-x: auto;
            margin: 20px 0;
        }

        .highlight {
            background: linear-gradient(120deg, #ffeaa7 0%, #fdcb6e 100%);
            padding: 3px 8px;
            border-radius: 5px;
            font-weight: bold;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .metric-item {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
        }

        .metric-item h4 {
            color: #333;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .metric-item p {
            font-size: 0.95em;
            color: #555;
        }

        .conclusion {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            border-radius: 15px;
            margin: 30px 0;
            text-align: center;
        }

        .conclusion h3 {
            font-size: 2em;
            margin-bottom: 20px;
        }

        .conclusion p {
            font-size: 1.2em;
            line-height: 1.8;
        }

        .visualization-note {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        ul {
            list-style-position: inside;
            margin: 15px 0;
        }

        li {
            margin: 10px 0;
            padding-left: 10px;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 1.8em;
            }

            .section {
                padding: 25px;
            }

            .section-title {
                font-size: 1.5em;
            }

            .process-step::after {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üõçÔ∏è An√°lisis de Clustering de Clientes del Mall</h1>
            <p>Segmentaci√≥n inteligente mediante algoritmos de Machine Learning</p>
        </header>

        <!-- SECCI√ìN 0: DATASET -->
        <div class="section">
            <div class="section-title">
                <div class="section-number">0</div>
                <h2>El Dataset</h2>
            </div>
            
            <div class="dataset-info">
                <h3>üìä Mall_Customers.csv</h3>
                <p><strong>Descripci√≥n:</strong> Dataset con informaci√≥n de clientes de un centro comercial que incluye datos demogr√°ficos y de comportamiento de compra.</p>
            </div>

            <h3 style="margin: 25px 0 15px 0;">Variables del Dataset:</h3>
            <div class="variables-grid">
                <div class="variable-card">
                    <h4>üÜî CustomerID</h4>
                    <p>Identificador √∫nico</p>
                </div>
                <div class="variable-card">
                    <h4>üë• Gender</h4>
                    <p>G√©nero (Male/Female)</p>
                </div>
                <div class="variable-card">
                    <h4>üìÖ Age</h4>
                    <p>Edad del cliente</p>
                </div>
                <div class="variable-card">
                    <h4>üí∞ Annual Income</h4>
                    <p>Ingreso anual (k$)</p>
                </div>
                <div class="variable-card">
                    <h4>üõí Spending Score</h4>
                    <p>Puntuaci√≥n de gasto (1-100)</p>
                </div>
            </div>
        </div>

        <!-- SECCI√ìN 1: PREPROCESAMIENTO -->
        <div class="section">
            <div class="section-title">
                <div class="section-number">1</div>
                <h2>Preprocesamiento de Datos</h2>
            </div>

            <div class="process-flow">
                <div class="process-step">
                    <h4>üì• Carga</h4>
                    <p>Lectura del dataset Mall_Customers.csv con pandas</p>
                </div>
                <div class="process-step">
                    <h4>üîÑ Codificaci√≥n</h4>
                    <p>G√©nero: Male ‚Üí 0, Female ‚Üí 1</p>
                </div>
                <div class="process-step">
                    <h4>üìè Normalizaci√≥n</h4>
                    <p>StandardScaler para equiparar escalas</p>
                </div>
                <div class="process-step">
                    <h4>üìâ PCA</h4>
                    <p>Reducci√≥n a 2 componentes para visualizaci√≥n</p>
                </div>
            </div>

            <div class="code-snippet">
# Codificaci√≥n de g√©nero<br>
df["Gender"] = df["Gender"].map({"Male": 0, "Female": 1})<br><br>
# Variables seleccionadas<br>
X = df[["Gender", "Age", "Annual Income (k$)", "Spending Score (1-100)"]]<br><br>
# Normalizaci√≥n con StandardScaler<br>
X_scaled = scaler.fit_transform(X)<br><br>
# PCA para visualizaci√≥n 2D<br>
X_pca = pca.fit_transform(X_scaled)
            </div>

            <div class="visualization-note">
                <strong>üí° ¬øPor qu√© PCA?</strong>
                <p>Con 4 variables es dif√≠cil visualizar en un gr√°fico. PCA reduce las dimensiones a 2 componentes principales manteniendo la mayor varianza posible, permitiendo graficar los clusters en 2D.</p>
            </div>
        </div>

        <!-- SECCI√ìN 2: K-MEANS -->
        <div class="section">
            <div class="section-title">
                <div class="section-number">2</div>
                <h2>Algoritmo K-Means</h2>
            </div>

            <h3>üéØ ¬øQu√© hace K-Means?</h3>
            <p>K-Means agrupa los datos en <span class="highlight">k clusters</span> minimizando la distancia de cada punto al centroide de su cluster. Es iterativo y eficiente para datasets grandes.</p>

            <h3 style="margin-top: 30px;">üîç Proceso de Optimizaci√≥n</h3>
            <div class="metrics-grid">
                <div class="metric-item">
                    <h4>üìê M√©todo del Codo</h4>
                    <p>Eval√∫a la inercia (WCSS) para diferentes valores de k. Busca el "codo" donde la mejora se estabiliza.</p>
                </div>
                <div class="metric-item">
                    <h4>üé≠ Silhouette Score</h4>
                    <p>Mide qu√© tan similar es un punto a su cluster vs otros clusters. Rango: [-1, 1], mayor es mejor.</p>
                </div>
                <div class="metric-item">
                    <h4>üìä Davies-Bouldin Index</h4>
                    <p>Eval√∫a la separaci√≥n entre clusters. Valores menores indican mejor separaci√≥n.</p>
                </div>
            </div>

            <div class="code-snippet">
# Evaluaci√≥n de k = 2 hasta k = 10<br>
for k in range(2, 11):<br>
&nbsp;&nbsp;&nbsp;&nbsp;kmeans = KMeans(n_clusters=k, random_state=42)<br>
&nbsp;&nbsp;&nbsp;&nbsp;labels = kmeans.fit_predict(X_scaled)<br>
&nbsp;&nbsp;&nbsp;&nbsp;# Calcular m√©tricas: inercia, silhouette, davies-bouldin<br><br>
# Seleccionar k √≥ptimo seg√∫n silhouette<br>
k_opt = np.argmax(silhouette_vals) + 2
            </div>

            <div class="dataset-info">
                <strong>‚ú® Resultado t√≠pico:</strong> Para este dataset, el k √≥ptimo suele ser <strong>5 clusters</strong>, que representan diferentes segmentos de clientes con patrones de ingreso y gasto distintivos.
            </div>
        </div>

        <!-- SECCI√ìN 3: JER√ÅRQUICO -->
        <div class="section">
            <div class="section-title">
                <div class="section-number">3</div>
                <h2>Clustering Jer√°rquico</h2>
            </div>

            <h3>üå≥ ¬øQu√© es el Clustering Jer√°rquico?</h3>
            <p>Crea una jerarqu√≠a de clusters mediante un enfoque aglomerativo: comienza con cada punto como cluster individual y los va fusionando seg√∫n su similitud. Se visualiza con un <span class="highlight">dendrograma</span>.</p>

            <h3 style="margin-top: 30px;">üîó M√©todos de Enlace (Linkage)</h3>
            <div class="variables-grid">
                <div class="variable-card" style="background: linear-gradient(135deg, #667eea, #764ba2);">
                    <h4>Ward</h4>
                    <p>Minimiza la varianza intra-cluster</p>
                </div>
                <div class="variable-card" style="background: linear-gradient(135deg, #f5576c, #f093fb);">
                    <h4>Complete</h4>
                    <p>M√°xima distancia entre puntos</p>
                </div>
                <div class="variable-card" style="background: linear-gradient(135deg, #4facfe, #00f2fe);">
                    <h4>Average</h4>
                    <p>Promedio de distancias</p>
                </div>
                <div class="variable-card" style="background: linear-gradient(135deg, #43e97b, #38f9d7);">
                    <h4>Single</h4>
                    <p>M√≠nima distancia entre puntos</p>
                </div>
            </div>

            <div class="code-snippet">
# Prueba de diferentes m√©todos de enlace<br>
for method in ["ward", "complete", "average", "single"]:<br>
&nbsp;&nbsp;&nbsp;&nbsp;hier = AgglomerativeClustering(n_clusters=5, linkage=method)<br>
&nbsp;&nbsp;&nbsp;&nbsp;labels = hier.fit_predict(X_scaled)<br>
&nbsp;&nbsp;&nbsp;&nbsp;# Evaluar con silhouette y davies-bouldin<br><br>
# Seleccionar el mejor m√©todo<br>
best_method = max(results_hier, key=lambda m: results_hier[m][0])
            </div>

            <div class="visualization-note">
                <strong>üìä Dendrograma:</strong>
                <p>El dendrograma muestra c√≥mo se fusionan los clusters. La altura de las l√≠neas indica la distancia en la que se unen. Cortar el dendrograma a diferentes alturas produce diferentes n√∫meros de clusters.</p>
            </div>
        </div>

        <!-- SECCI√ìN 4: DBSCAN -->
        <div class="section">
            <div class="section-title">
                <div class="section-number">4</div>
                <h2>Algoritmo DBSCAN</h2>
            </div>

            <h3>üîç ¬øQu√© hace DBSCAN?</h3>
            <p><strong>Density-Based Spatial Clustering</strong> agrupa puntos que est√°n densamente conectados. A diferencia de K-Means, <span class="highlight">no requiere especificar k</span> y puede detectar formas arbitrarias y outliers (ruido).</p>

            <h3 style="margin-top: 30px;">‚öôÔ∏è Par√°metros Clave</h3>
            <div class="metrics-grid">
                <div class="metric-item">
                    <h4>üìè Epsilon (eps)</h4>
                    <p>Radio de vecindad. Define qu√© tan cerca deben estar los puntos para ser considerados vecinos.</p>
                </div>
                <div class="metric-item">
                    <h4>üë• min_samples</h4>
                    <p>N√∫mero m√≠nimo de puntos para formar una regi√≥n densa (cluster).</p>
                </div>
            </div>

            <div class="code-snippet">
# B√∫squeda del eps √≥ptimo<br>
eps_values = np.arange(0.2, 1.2, 0.1)<br><br>
for eps in eps_values:<br>
&nbsp;&nbsp;&nbsp;&nbsp;db = DBSCAN(eps=eps, min_samples=5)<br>
&nbsp;&nbsp;&nbsp;&nbsp;labels = db.fit_predict(X_scaled)<br>
&nbsp;&nbsp;&nbsp;&nbsp;# Evaluar m√©tricas (excluyendo casos de solo ruido)<br><br>
# Seleccionar eps con mejor silhouette<br>
best_eps = max(dbscan_results, key=lambda e: dbscan_results[e][0])
            </div>

            <div class="dataset-info">
                <strong>‚ö†Ô∏è Consideraci√≥n importante:</strong> DBSCAN puede etiquetar algunos puntos como <strong>ruido (-1)</strong> si no pertenecen a ninguna regi√≥n densa. Esto es √∫til para detectar outliers pero puede afectar las m√©tricas.
            </div>
        </div>

        <!-- SECCI√ìN 5: COMPARACI√ìN -->
        <div class="section">
            <div class="section-title">
                <div class="section-number">5</div>
                <h2>Comparaci√≥n de Algoritmos</h2>
            </div>

            <div class="algorithm-comparison">
                <div class="algo-card">
                    <h3>üéØ K-Means</h3>
                    <div class="metric-box">
                        <strong>Ventajas:</strong>
                        <ul>
                            <li>R√°pido y escalable</li>
                            <li>Simple de implementar</li>
                            <li>Funciona bien con clusters esf√©ricos</li>
                        </ul>
                    </div>
                    <div class="metric-box">
                        <strong>Desventajas:</strong>
                        <ul>
                            <li>Requiere especificar k</li>
                            <li>Sensible a outliers</li>
                            <li>Asume clusters de forma esf√©rica</li>
                        </ul>
                    </div>
                </div>

                <div class="algo-card">
                    <h3>üå≥ Jer√°rquico</h3>
                    <div class="metric-box">
                        <strong>Ventajas:</strong>
                        <ul>
                            <li>No requiere especificar k inicialmente</li>
                            <li>Dendrograma informativo</li>
                            <li>Detecta jerarqu√≠as naturales</li>
                        </ul>
                    </div>
                    <div class="metric-box">
                        <strong>Desventajas:</strong>
                        <ul>
                            <li>Computacionalmente costoso (O(n¬≥))</li>
                            <li>No escala bien a grandes datasets</li>
                            <li>Decisiones irreversibles</li>
                        </ul>
                    </div>
                </div>

                <div class="algo-card">
                    <h3>üîç DBSCAN</h3>
                    <div class="metric-box">
                        <strong>Ventajas:</strong>
                        <ul>
                            <li>No requiere especificar k</li>
                            <li>Detecta formas arbitrarias</li>
                            <li>Identifica outliers autom√°ticamente</li>
                        </ul>
                    </div>
                    <div class="metric-box">
                        <strong>Desventajas:</strong>
                        <ul>
                            <li>Sensible a par√°metros eps y min_samples</li>
                            <li>Problemas con densidades variables</li>
                            <li>Dif√≠cil con alta dimensionalidad</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="conclusion">
                <h3>üèÜ Conclusi√≥n del An√°lisis</h3>
                <p>El estudio revel√≥ tres hallazgos fundamentales: primero, la dimensionalidad es cr√≠tica - al incluir las 4 variables (G√©nero, Edad, Ingreso y Spending Score) en lugar de solo 2, se descubrieron 10 micro-segmentos en lugar de los 5 tradicionales de la literatura cl√°sica, demostrando que m√°s variables permiten una segmentaci√≥n m√°s refinada. Segundo, K-Means demostr√≥ ser superior a los m√©todos jer√°rquicos y DBSCAN para este tipo de datos con variables mixtas (categ√≥ricas codificadas y num√©ricas). Tercero, DBSCAN result√≥ inadecuado porque al agregar dimensiones, los puntos se dispersan demasiado en el espacio vectorial, haciendo imposible formar clusters densos sin clasificar excesivos puntos como ruido.</p> <br>
                <p>Como recomendaci√≥n pr√°ctica, se sugiere adoptar el modelo de K-Means con 10 clusters para estrategias de micro-segmentaci√≥n, a pesar de ser m√°s complejo de gestionar que 5 grupos, ya que permite una personalizaci√≥n mucho mayor (por ejemplo, diferenciar campa√±as para Gen Z vs Baby Boomers dentro del mismo nivel de ingresos). El siguiente paso operativo debe ser analizar los centroides de estos 10 grupos para asignarles nombres comerciales descriptivos como "Ahorradores J√≥venes", "VIPs Senior" o "Gastadores Millennials".</p><br>
                <p>El estudio presenta dos limitaciones importantes que requieren atenci√≥n futura: primero, la codificaci√≥n de G√©nero como variable num√©rica (0/1) introduce un sesgo geom√©trico al asumir que la distancia entre g√©neros es comparable a diferencias de edad o ingreso - se recomienda explorar K-Prototypes, un algoritmo dise√±ado espec√≠ficamente para mezclar datos num√©ricos y categ√≥ricos sin este sesgo. Segundo, el tama√±o de muestra de solo 200 observaciones plantea riesgo de overfitting con 10 micro-segmentos, por lo que se necesita un dataset m√°s grande para validar que estos clusters representan patrones reales y no artificios estad√≠sticos del modelo.</p>
            </div>
        </div>

        <!-- FOOTER -->
        <div class="section" style="background: #f8f9ff; text-align: center; border-bottom: none;">
            <p style="color: #667eea; font-size: 1.1em;"><strong>üí° Aplicaci√≥n Pr√°ctica:</strong> Este an√°lisis permite al centro comercial identificar segmentos de clientes (por ejemplo: j√≥venes de alto gasto, adultos conservadores, etc.) para personalizar promociones y mejorar la experiencia de compra.</p>
        </div>
    </div>
</body>
</html>
