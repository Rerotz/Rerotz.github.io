<!DOCTYPE html><html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Infograf√≠a | √Årbol de Decisi√≥n vs Random Forest</title>
  <!-- Tipograf√≠as -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Space+Grotesk:wght@400;600;700&display=swap" rel="stylesheet" />
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <!-- MathJax para f√≥rmulas -->
  <script>
    window.MathJax = { tex: { inlineMath: [["$","$"],["\ÓÄÅ","\ÓÄÅ"]], displayMath: [["$$","$$"]] } };
  </script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" async></script>
  <style>
    :root{
      --bg:#0b0b11; /* fondo base */
      --panel:#121223e6; /* card */
      --ink:#f6f7fb; /* texto */
      --muted:#a6a8b8; /* texto secundario */
      --brand:#7c3aed; /* morado principal */
      --brand-2:#facc15; /* amarillo acento */
      --ok:#22c55e; /* verde */
      --warn:#f59e0b; /* √°mbar (evitar rojo) */
      --grid:#23233a66;
      --chip:#262649;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius: 18px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;height:100%;background: radial-gradient(1200px 600px at 20% -10%, #221a42 0%, transparent 60%), radial-gradient(1000px 500px at 110% 10%, #2b2153 0%, transparent 60%), var(--bg); color:var(--ink); font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial}
    a{color:var(--brand-2); text-decoration:none}
    .wrap{max-width:1200px; margin:0 auto; padding:32px}
    header{display:grid; grid-template-columns: 1fr auto; gap:16px; align-items:center; margin-bottom:24px}
    .hero{
      background: linear-gradient(160deg, rgba(124,58,237,.28), rgba(42,30,78,.2));
      border:1px solid #3a2f62; border-radius: var(--radius);
      padding:28px; box-shadow: var(--shadow);
    }
    .title{font-family:"Space Grotesk"; font-size: clamp(24px, 4vw, 44px); line-height:1.05; margin:0}
    .subtitle{margin:8px 0 0; color:var(--muted)}
    .badges{display:flex; flex-wrap:wrap; gap:8px; margin-top:14px}
    .badge{background:var(--chip); color:#dcdcf9; border: 1px solid #3a2f62; padding:8px 10px; border-radius:999px; font-size:12px; letter-spacing:.3px}.grid{display:grid; gap:18px}
@media(min-width:900px){ .grid.cols-3{grid-template-columns:repeat(3,1fr)} .grid.cols-2{grid-template-columns:1.2fr .8fr} }

.card{background:var(--panel); border:1px solid #26264a; border-radius:var(--radius); padding:20px; box-shadow:var(--shadow)}
.card h3{margin:0 0 8px; font-family:"Space Grotesk"; font-weight:700; letter-spacing:.2px}
.card p{margin: 6px 0; color:var(--muted)}
.chip{display:inline-flex; align-items:center; gap:8px; background:#1a1932; border:1px solid #2d2a56; padding:8px 12px; border-radius:12px; font-size:12px}

.kpi{display:grid; grid-template-columns: auto 1fr auto; align-items:center; gap:10px; background:#13132a; border:1px dashed #2b2a5a; padding:10px 12px; border-radius:12px; margin-top:10px}
.kpi .val{font-weight:800; font-size:18px; color:#fff}
.mono{font-family: ui-monospace, Menlo, Consolas, monospace}

.two-col{display:grid; gap:18px}
@media(min-width:1000px){ .two-col{grid-template-columns:1fr 1fr} }

/* Confusion matrix grid */
.cm{display:grid; grid-template-columns: 100px repeat(2, 1fr); grid-template-rows: 100px repeat(2, 1fr); gap:6px;}
.cm .cell{display:flex; align-items:center; justify-content:center; border-radius:12px; background:#15152d; border:1px solid #2a2a52; position:relative; overflow:hidden}
.cm .cell[data-v]{background: linear-gradient(180deg, rgba(124,58,237,.16), transparent), #14142b}
.cm .hdr{background:#100f23; border:1px solid #2a2a52; color:#bdbef4; font-weight:700}
.cm .diag::after{content:""; position:absolute; inset:0; background:linear-gradient(135deg, transparent 48%, rgba(250,204,21,.15) 49%, rgba(250,204,21,.15) 51%, transparent 52%) }

.legend{display:flex; gap:10px; flex-wrap:wrap; margin-top:10px}
.key{display:flex; align-items:center; gap:8px}
.swatch{width:16px; height:16px; border-radius:4px; background:var(--brand)}

/* Formula block */
.formula{background:#111026; border:1px solid #26264a; border-radius:12px; padding:14px; margin:8px 0}
code{background:#171739; border:1px solid #2d2a56; color:#eaeaff; padding:2px 6px; border-radius:8px}

footer{margin:40px 0 16px; text-align:center; color:#979acb}

  </style>
</head>
<body>
  <div class="wrap">
    <header class="hero">
      <div>
        <h1 class="title">Infograf√≠a ¬∑ √Årbol de Decisi√≥n vs Random Forest</h1>
        <p class="subtitle">Datasets: <b>Iris</b> (multiclase), <b>Titanic</b> (binaria) y gu√≠a para <b>CreditCard</b> (fraude, desbalanceado). Dise√±o en morado/amarillo (sin rojos) y gr√°ficos interactivos.</p>
        <div class="badges">
          <span class="badge">Scikit-learn</span>
          <span class="badge">Chart.js</span>
          <span class="badge">MathJax</span>
          <span class="badge">Pipelines & M√©tricas</span>
        </div>
      </div>
      <div class="chip">‚öôÔ∏è Reproducibilidad: <span class="mono">random_state=42</span></div>
    </header><!-- M√©tricas y f√≥rmulas -->
<section class="grid cols-3">
  <article class="card">
    <h3>F√≥rmulas Clave</h3>
    <div class="formula">$$Accuracy = \frac{TP + TN}{TP + TN + FP + FN}$$</div>
    <div class="formula">$$Precision = \frac{TP}{TP + FP}$$</div>
    <div class="formula">$$Recall = \frac{TP}{TP + FN}$$</div>
    <div class="formula">$$F1 = 2\cdot \frac{Precision\cdot Recall}{Precision + Recall}$$</div>
    <div class="formula">$$TPR = \frac{TP}{TP+FN},\quad FPR = \frac{FP}{FP+TN}$$
      <p style="margin:6px 0 0; color:var(--muted)">AUC(ROC) = √°rea bajo la curva TPR vs FPR; PR-AUC = √°rea bajo Precisi√≥n‚ÄìRecall (preferible en <i>fraude</i>).</p>
    </div>
  </article>

  <article class="card">
    <h3>Iris ¬∑ √Årbol de Decisi√≥n</h3>
    <p><b>Accuracy</b> ‚âà 0.98 ¬∑ <b>Macro/Weighted</b> ‚âà 0.98</p>
    <div class="kpi"><span>üå∏ Setosa</span><span></span><span class="val">P=1.00 ¬∑ R=1.00</span></div>
    <div class="kpi"><span>üü¢ Versicolor</span><span></span><span class="val">P=1.00 ¬∑ R=0.93</span></div>
    <div class="kpi"><span>üü£ Virginica</span><span></span><span class="val">P=0.94 ¬∑ R=1.00</span></div>
    <p class="mono" style="margin-top:8px">Criterio: <b>gini</b> ¬∑ max_depth=3 ¬∑ <b>interpretabilidad</b> alta</p>
  </article>

  <article class="card">
    <h3>Titanic ¬∑ Random Forest</h3>
    <p><b>Accuracy</b> ‚âà 0.821 ¬∑ <b>Precision</b> ‚âà 0.809 ¬∑ <b>Recall</b> ‚âà 0.743 ¬∑ <b>F1</b> ‚âà 0.775</p>
    <div class="kpi"><span>üåä AUC(ROC)</span><span></span><span class="val">0.90</span></div>
    <p class="mono" style="margin-top:8px">100 √°rboles ¬∑ <b>bootstrap</b> ¬∑ max_depth=None</p>
  </article>
</section>

<!-- Comparativa global -->
<section class="grid cols-2" style="margin-top:18px">
  <article class="card">
    <h3>Comparaci√≥n de M√©tricas (Global)</h3>
    <canvas id="cmpGlobal" height="220"></canvas>
    <p class="muted">Valores Iris ‚âà promedios (macro/weighted); Titanic = valores reportados.</p>
  </article>
  <article class="card">
    <h3>ROC & PR-AUC (Resumen)</h3>
    <div class="legend">
      <div class="key"><span class="swatch" style="background:var(--ok)"></span> AUC ROC Titanic ‚âà <b>0.90</b></div>
      <div class="key"><span class="swatch" style="background:var(--brand)"></span> ROC Iris (multiclase): <b>por clase</b> (seg√∫n ejecuci√≥n)</div>
      <div class="key"><span class="swatch" style="background:var(--warn)"></span> PR-AUC (recomendado para <b>CreditCard</b>)</div>
    </div>
    <p style="margin-top:8px;color:var(--muted)">Para fraude se prioriza <b>Recall</b> y <b>PR-AUC</b>; ajustar umbral ÓÄÅtÓÄÅ seg√∫n coste de FP/FN.</p>
  </article>
</section>

<!-- Detalle por dataset: Confusion matrices y per-class -->
<section class="two-col" style="margin-top:18px">
  <article class="card">
    <h3>Matriz de Confusi√≥n ¬∑ Titanic (RF)</h3>
    <div class="cm" id="cmTitanic">
      <div class="cell hdr"></div>
      <div class="cell hdr">Pred: No sobrevivi√≥</div>
      <div class="cell hdr">Pred: Sobrevivi√≥</div>
      <div class="cell hdr" style="writing-mode:vertical-rl; transform:rotate(180deg)">Real: No sobrevivi√≥</div>
      <div class="cell diag" data-v><div><b>TN</b><br><span class="val">92</span></div></div>
      <div class="cell" data-v><div><b>FP</b><br><span class="val">13</span></div></div>
      <div class="cell hdr" style="writing-mode:vertical-rl; transform:rotate(180deg)">Real: Sobrevivi√≥</div>
      <div class="cell" data-v><div><b>FN</b><br><span class="val">19</span></div></div>
      <div class="cell diag" data-v><div><b>TP</b><br><span class="val">55</span></div></div>
    </div>
    <p class="mono" style="margin-top:8px">Errores m√°s frecuentes: <b>FN</b> (sobrevivientes no detectados).</p>
  </article>

  <article class="card">
    <h3>M√©tricas por Clase ¬∑ Iris (√Årbol)</h3>
    <canvas id="irisPerClass" height="240"></canvas>
    <p class="mono" style="margin-top:8px">Clases: Setosa ¬∑ Versicolor ¬∑ Virginica</p>
  </article>
</section>

<!-- Secci√≥n CreditCard (gu√≠a de m√©tricas y pipeline) -->
<section class="grid cols-3" style="margin-top:18px">
  <article class="card">
    <h3>CreditCard ¬∑ Recomendaciones</h3>
    <ul>
      <li>Divisi√≥n estratificada: <code>train_test_split(..., stratify=y)</code></li>
      <li>Escalar <code>Time</code> y <code>Amount</code> (StandardScaler)</li>
      <li>Usar <b>SMOTE</b> o <code>class_weight='balanced'</code></li>
      <li>Optimizar por <b>PR-AUC</b> / <b>Recall</b> de fraude</li>
    </ul>
    <p class="mono">M√©tricas clave: Precision (fraude), Recall (fraude), F1 (fraude), PR-AUC, ROC-AUC</p>
  </article>
  <article class="card">
    <h3>Checklist de M√©tricas</h3>
    <ul>
      <li>Iris: Accuracy, Prec/Rec/F1 por clase, Matriz de Confusi√≥n</li>
      <li>Titanic: Accuracy, Prec/Rec/F1, Matriz de Confusi√≥n, AUC</li>
      <li>CreditCard: Prec/Rec/F1 (fraude), PR-AUC, ROC-AUC</li>
    </ul>
    <p class="mono">Evitar depender s√≥lo de Accuracy en desbalance.</p>
  </article>
  <article class="card">
    <h3>Hiperpar√°metros (resumen)</h3>
    <ul>
      <li><b>DecisionTree</b>: <code>criterion={'gini','entropy'}</code>, <code>max_depth</code>, <code>min_samples_leaf</code></li>
      <li><b>RandomForest</b>: <code>n_estimators</code>, <code>max_depth</code>, <code>max_features</code>, <code>min_samples_leaf</code></li>
      <li>Pipelines y <b>validaci√≥n cruzada</b> con <code>RandomizedSearchCV</code></li>
    </ul>
  </article>
</section>

<footer>
  <small>Fuentes: c√≥digo y resultados del informe del equipo (Iris, Titanic). Este HTML est√° listo para imprimirse o publicarse como GitHub Pages.</small>
</footer>

  </div>  <script>
    // ======== Datos (del informe) ========
    // Titanic (binario): m√©tricas globales
    const titanic = { accuracy: 0.821, precision: 0.809, recall: 0.743, f1: 0.775, auc: 0.90, cm: {tn:92, fp:13, fn:19, tp:55} };
    // Iris (multiclase): promedios globales aproximados y por-clase
    const iris = {
      accuracy: 0.978, precision: 0.98, recall: 0.98, f1: 0.98,
      perClass: [ // [Precision, Recall] por clase en orden Setosa, Versicolor, Virginica
        {label:'Setosa', p:1.00, r:1.00},
        {label:'Versicolor', p:1.00, r:0.93},
        {label:'Virginica', p:0.94, r:1.00}
      ]
    };

    // ======== Gr√°fico Comparativo Global ========
    const ctxCmp = document.getElementById('cmpGlobal');
    new Chart(ctxCmp, {
      type: 'bar',
      data: {
        labels: ['Accuracy','Precision','Recall','F1-Score'],
        datasets: [
          { label: 'Iris (√Årbol)', data: [iris.accuracy, iris.precision, iris.recall, iris.f1], borderWidth:1 },
          { label: 'Titanic (RF)', data: [titanic.accuracy, titanic.precision, titanic.recall, titanic.f1], borderWidth:1 }
        ]
      },
      options: {
        scales: {
          y: { beginAtZero: true, max: 1, grid: {color:getComputedStyle(document.documentElement).getPropertyValue('--grid')} },
          x: { grid: {color: 'transparent'} }
        },
        plugins: { legend: { labels:{ color:'#e6e7ff' } }, tooltip:{ callbacks:{ label: ctx=> `${ctx.dataset.label}: ${(ctx.parsed.y).toFixed(3)}` } } },
        animation: { duration: 900 }
      }
    });

    // ======== Iris per-class (Precision vs Recall) ========
    const ctxIris = document.getElementById('irisPerClass');
    new Chart(ctxIris, {
      type: 'bar',
      data: {
        labels: iris.perClass.map(c=>c.label),
        datasets: [
          { label: 'Precision', data: iris.perClass.map(c=>c.p) },
          { label: 'Recall', data: iris.perClass.map(c=>c.r) }
        ]
      },
      options: {
        scales: {
          y: { beginAtZero: true, max: 1, grid: {color:getComputedStyle(document.documentElement).getPropertyValue('--grid')} },
          x: { grid: {color: 'transparent'} }
        },
        plugins: { legend: { labels:{ color:'#e6e7ff' } }, tooltip:{ callbacks:{ label: ctx=> `${ctx.dataset.label}: ${(ctx.parsed.y).toFixed(2)}` } } },
        animation: { duration: 900 }
      }
    });
  </script></body>
</html>
